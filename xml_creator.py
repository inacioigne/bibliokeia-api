from xml.dom import minidom
from src.db.models import Item
from src.db.init_db import session

doc = minidom.Document()
#record = doc.createElementNS('xmlns:http://www.loc.gov/MARC21/slim', 'record')
record = doc.createElement('record')
#LEADER
leader = doc.createElement('leader')
textLeader = doc.createTextNode('01929nam a22003857c 4500')
leader.appendChild(textLeader)
record.appendChild(leader)
#001
controlfield_001 = doc.createElement('controlfield')
controlfield_001.setAttribute('tag', '001')
text_001 = doc.createTextNode('15658945')
controlfield_001.appendChild(text_001)
record.appendChild(controlfield_001)
#005
controlfield_005 = doc.createElement('controlfield')
controlfield_005.setAttribute('tag', '005')
text_005 = doc.createTextNode('20211212234208.0')
controlfield_005.appendChild(text_005)
record.appendChild(controlfield_005)
#008
controlfield_008 = doc.createElement('controlfield')
controlfield_008.setAttribute('tag', '008')
text_008 = doc.createTextNode('090313s2008 enk 000 f eng ')
controlfield_008.appendChild(text_008)
record.appendChild(controlfield_008)
#010
datafield_010 = doc.createElement('datafield')
datafield_010.setAttribute('tag', '010')
datafield_010.setAttribute('ind1', ' ')
datafield_010.setAttribute('ind2', ' ')
subfield_010_a = doc.createElement('subfield')
subfield_010_a.setAttribute('code', 'a')
text_010_a = doc.createTextNode('92005291')
subfield_010_a.appendChild(text_010_a)
datafield_010.appendChild(subfield_010_a)
record.appendChild(datafield_010)
#020
datafield_020 = doc.createElement('datafield')
datafield_020.setAttribute('tag', '020')
datafield_020.setAttribute('ind1', ' ')
datafield_020.setAttribute('ind2', ' ')
subfield_020_a = doc.createElement('subfield')
subfield_020_a.setAttribute('code', 'a')
text_020_a = doc.createTextNode('9780747588023')
subfield_020_a.appendChild(text_020_a)
datafield_020.appendChild(subfield_020_a)
record.appendChild(datafield_020)
#040
datafield_040 = doc.createElement('datafield')
datafield_040.setAttribute('tag', '040')
datafield_040.setAttribute('ind1', ' ')
datafield_040.setAttribute('ind2', ' ')
subfield_040_a = doc.createElement('subfield')
subfield_040_a.setAttribute('code', 'a')
text_040_a = doc.createTextNode('DLC')
subfield_040_a.appendChild(text_040_a)
datafield_040.appendChild(subfield_040_a)
subfield_040_b = doc.createElement('subfield')
subfield_040_b.setAttribute('code', 'b')
text_040_b = doc.createTextNode('DLC')
subfield_040_b.appendChild(text_040_b)
datafield_040.appendChild(subfield_040_b)
record.appendChild(datafield_040)
#041
datafield_041 = doc.createElement('datafield')
datafield_041.setAttribute('tag', '041')
datafield_041.setAttribute('ind1', '1')
datafield_041.setAttribute('ind2', ' ')
subfield_041_a = doc.createElement('subfield')
subfield_041_a.setAttribute('code', 'a')
text_041_a = doc.createTextNode('eng')
subfield_041_a.appendChild(text_041_a)
datafield_041.appendChild(subfield_041_a)
subfield_041_h = doc.createElement('subfield')
subfield_041_h.setAttribute('code', 'h')
text_041_h = doc.createTextNode('por')
subfield_041_h.appendChild(text_041_h)
datafield_041.appendChild(subfield_041_h)
record.appendChild(datafield_041)
#100
datafield_100 = doc.createElement('datafield')
datafield_100.setAttribute('tag', '100')
datafield_100.setAttribute('ind1', '1')
datafield_100.setAttribute('ind2', ' ')
subfield_100_a = doc.createElement('subfield')
subfield_100_a.setAttribute('code', 'a')
text_100_a = doc.createTextNode('Hatoum, Milton')
subfield_100_a.appendChild(text_100_a)
datafield_100.appendChild(subfield_100_a)
subfield_100_d = doc.createElement('subfield')
subfield_100_d.setAttribute('code', 'd')
text_100_d = doc.createTextNode('1952-')
subfield_100_d.appendChild(text_100_d)
datafield_100.appendChild(subfield_100_d)
record.appendChild(datafield_100)
#240
datafield_240 = doc.createElement('datafield')
datafield_240.setAttribute('tag', '240')
datafield_240.setAttribute('ind1', '1')
datafield_240.setAttribute('ind2', '0')
subfield_240_a = doc.createElement('subfield')
subfield_240_a.setAttribute('code', 'a')
text_240_a = doc.createTextNode('Cinzas do norte')
subfield_240_a.appendChild(text_240_a)
datafield_240.appendChild(subfield_240_a)
subfield_240_l = doc.createElement('subfield')
subfield_240_l.setAttribute('code', 'l')
text_240_l = doc.createTextNode('English')
subfield_240_l.appendChild(text_240_l)
datafield_240.appendChild(subfield_240_l)
record.appendChild(datafield_240)
#245
datafield_245 = doc.createElement('datafield')
datafield_245.setAttribute('tag', '245')
datafield_245.setAttribute('ind1', '1')
datafield_245.setAttribute('ind2', '0')
subfield_245_a = doc.createElement('subfield')
subfield_245_a.setAttribute('code', 'a')
text_245_a = doc.createTextNode('Ashes of the Amazon')
subfield_245_a.appendChild(text_245_a)
datafield_245.appendChild(subfield_245_a)
subfield_245_c = doc.createElement('subfield')
subfield_245_c.setAttribute('code', 'c')
text_245_c = doc.createTextNode('Milton Hatoum ; translated by John Gledson.')
subfield_245_c.appendChild(text_245_c)
datafield_245.appendChild(subfield_245_c)
record.appendChild(datafield_245)
#260
datafield_260 = doc.createElement('datafield')
datafield_260.setAttribute('tag', '260')
datafield_260.setAttribute('ind1', ' ')
datafield_260.setAttribute('ind2', ' ')
subfield_260_a = doc.createElement('subfield')
subfield_260_a.setAttribute('code', 'a')
text_260_a = doc.createTextNode('London :')
subfield_260_a.appendChild(text_260_a)
datafield_260.appendChild(subfield_260_a)
subfield_260_b = doc.createElement('subfield')
subfield_260_b.setAttribute('code', 'b')
text_260_b = doc.createTextNode('Ã“bidos :')
subfield_260_b.appendChild(text_260_b)
datafield_260.appendChild(subfield_260_b)
subfield_260_c = doc.createElement('subfield')
subfield_260_c.setAttribute('code', 'c')
text_260_c = doc.createTextNode('2008')
subfield_260_c.appendChild(text_260_c)
datafield_260.appendChild(subfield_260_c)
record.appendChild(datafield_260)





doc.appendChild(record)

with open('text.xml', 'w', encoding='utf-8') as w:
    doc.writexml(w, indent='\n', addindent='\t', encoding='utf-8')
